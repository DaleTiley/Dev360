@model List<MillenniumWebFixed.Models.Customer>
@{
    ViewBag.Title = "Manage Customers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h4 class="mb-3">Manage Customers</h4>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">@TempData["Message"]</div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}
<style>
    table.dataTable td,
    table.dataTable th {
        font-size: 0.85rem;
        padding: 0.4rem 0.6rem;
    }

    table.dataTable thead th {
        background-color: #001C2B !important;
        color: white !important;
    }

    table.dataTable tbody tr:nth-child(odd) {
        background-color: #f7f9fc;
    }
</style>
<button class="btn theme-button mb-2" onclick="openCustomerModal()">Add New Customer</button>

<table class="table table-striped table-sm" id="customerTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>City</th>
            <th>Active</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.CustomerName</td>
                <td>@item.Email</td>
                <td>@item.Phone</td>
                <td>@item.City</td>
                <td>@(item.IsActive ? "Yes" : "No")</td>
                <td>
                    <button class="btn btn-sm theme-button" onclick="editCustomer(@item.Id)">Edit</button>
                </td>
            </tr>
        }
    </tbody>
</table>

@Html.Partial("_CustomerModal", new MillenniumWebFixed.Models.Customer())
<script src="~/Scripts/AdminCustomers.js"></script>
@section Scripts {
    <script>
        $(function () {
            $('#customerTable').DataTable({
                responsive: true,
                pageLength: 10,
                lengthChange: true,
                lengthMenu: [[5, 10, 25, 50, 100], [5, 10, 25, 50, 100]]
            });
        });
    </script>
}
